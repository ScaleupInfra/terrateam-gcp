##########################################################################
# .terrateam/config.yml
##########################################################################
workflows:
  - tag_query: ""
    plan:
      - type: init
      - type: plan
      - type: env
        name: CKV_SKIP_CHECK
        cmd: ["echo", "CKV_GCP_73"]
      - type: run
        cmd: ["checkov-wrapper"]
        capture_output: true

hooks:
  all:
    pre:
      - type: oidc
        provider: gcp
        service_account: "terrateam@terrateam-demo.iam.gserviceaccount.com"
        workload_identity_provider: "projects/56125405118/locations/global/workloadIdentityPools/terrateam-pool/providers/terrateam-provider"
